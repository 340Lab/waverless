# Waverless 项目规则列表

## 1. 任务执行强制等待规则
- 制定计划后必须等待用户确认：
  - 即使计划看起来很完善
  - 即使修改很简单
  - 即使是修复明显的错误
  - 没有任何例外情况

- 执行前检查清单：
  - [ ] 任务是否已标记为 working？
  - [ ] 修改计划是否已制定？
  - [ ] 计划是否已经得到用户确认？
  - [ ] 是否在正确的位置记录了计划？

- 执行顺序强制要求：
  1. 标记任务状态
  2. 制定修改计划
  3. **等待用户确认**
  4. 得到确认后执行
  5. 记录执行结果
  6. 等待用户下一步指示

## 2. 基础工作流规则
- 开始执行分析任务时：
  先标记当前任务、或子任务为 (working) 状态，working状态同一时间只应该有一个

- 处理任务时：
  - 如果review还没有计划，则进行计划
  - 如有计划：
    - 未执行过计划：等待用户确认后执行
    - 已执行过计划：等待用户指示

- 分析完或执行完需要回写review规划或记录时：
  在对应working处更新内容，不要乱选择更新位置

- 编译相关：
  - agent自行需要编译或用户指明需要编译时：
    sudo -E $HOME/.cargo/bin/cargo build 2>&1 | tee compilelog
  - 需要分析当前问题时，先阅读 compilelog

- 步骤管理：
  每次执行完一个大步骤（更新计划 或 执行计划）后，等待用户下一步指示